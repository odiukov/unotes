
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Disable%20Tag%20Pattern/">
      
      
        <link rel="next" href="../Entity%20Factory%20with%20Archetype/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>ECS Design Decisions - Dev’s Notes</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-68H7J1MZ00"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-68H7J1MZ00",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-68H7J1MZ00",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ecs-design-decisions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Dev’s Notes" class="md-header__button md-logo" aria-label="Dev’s Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 2h4v2H4v16h2v2H2zm18 2h-2V2h4v20h-4v-2h2zM9 5h1v5h1v1H8v-1h1V6l-1 .5v-1zm6 8h1v5h1v1h-3v-1h1v-4l-1 .5v-1zm-6 0c1.1 0 2 1.34 2 3s-.9 3-2 3-2-1.34-2-3 .9-3 2-3m0 1c-.55 0-1 .9-1 2s.45 2 1 2 1-.9 1-2-.45-2-1-2m6-9c1.1 0 2 1.34 2 3s-.9 3-2 3-2-1.34-2-3 .9-3 2-3m0 1c-.55 0-1 .9-1 2s.45 2 1 2 1-.9 1-2-.45-2-1-2"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Dev’s Notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ECS Design Decisions
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Dev’s Notes" class="md-nav__button md-logo" aria-label="Dev’s Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 2h4v2H4v16h2v2H2zm18 2h-2V2h4v20h-4v-2h2zM9 5h1v5h1v1H8v-1h1V6l-1 .5v-1zm6 8h1v5h1v1h-3v-1h1v-4l-1 .5v-1zm-6 0c1.1 0 2 1.34 2 3s-.9 3-2 3-2-1.34-2-3 .9-3 2-3m0 1c-.55 0-1 .9-1 2s.45 2 1 2 1-.9 1-2-.45-2-1-2m6-9c1.1 0 2 1.34 2 3s-.9 3-2 3-2-1.34-2-3 .9-3 2-3m0 1c-.55 0-1 .9-1 2s.45 2 1 2 1-.9 1-2-.45-2-1-2"/></svg>

    </a>
    Dev’s Notes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    DOTS
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    DOTS
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Advanced/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Advanced
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Advanced
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Advanced/API%20Gotchas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Gotchas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Advanced/Job%20Safety%20System/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Job Safety System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Advanced/Rate%20Managers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rate Managers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Advanced/System%20Dependencies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System Dependencies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Attributes/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Attributes
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Attributes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Attributes/BurstCompile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BurstCompile
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Attributes/ChunkIndexInQuery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ChunkIndexInQuery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Attributes/ReadOnly%20and%20Optional/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ReadOnly and Optional
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Attributes/RequireMatchingQueriesForUpdate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RequireMatchingQueriesForUpdate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Attributes/UpdateInGroup%2C%20UpdateBefore%2C%20UpdateAfter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UpdateInGroup, UpdateBefore, UpdateAfter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Baking/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Baking
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Baking
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Baking/Baker%20%28authoring%20conversion%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Baker (authoring conversion)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Baking/Baking%20Workflow%20and%20SubScenes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Baking Workflow and SubScenes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Baking/TransformUsageFlags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TransformUsageFlags
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Components/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Components
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Components
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Components/BlobAsset%20%28immutable%20data%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BlobAsset (immutable data)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Components/IAspect%20%28component%20grouping%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IAspect (component grouping)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Components/IBufferElementData%20%28dynamic%20buffers%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IBufferElementData (dynamic buffers)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Components/IChunkComponent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IChunkComponent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Components/ICleanupComponentData/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ICleanupComponentData
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Components/IComponentData/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IComponentData
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Components/IEnableableComponent%20%28toggleable%20components%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IEnableableComponent (toggleable components)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Components/ISharedComponentData/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ISharedComponentData
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Components/InternalBufferCapacity%20%28IBC%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    InternalBufferCapacity (IBC)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Components/LocalToWorld/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LocalToWorld
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Components/LocalTransform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LocalTransform
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Components/Managed%20IComponentData%20%28class%20components%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Managed IComponentData (class components)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Components/Parent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Components/PostTransformMatrix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PostTransformMatrix
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Components/Tag%20Component/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tag Component
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Components/UnityObjectRef%20%28UnityEngine.Object%20references%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UnityObjectRef (UnityEngine.Object references)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Glossary/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Glossary
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Glossary
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Allocators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Allocators
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Archetype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Archetype
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Aspect/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Aspect
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Baking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Baking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Burst/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Burst
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Cache%20hit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cache hit
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Cache%20miss/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cache miss
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Cache-friendly/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cache friendly
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Chunk%20rearrangement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chunk rearrangement
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Chunk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chunk
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Component/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Component
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Contiguous/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contiguous
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Entity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Entity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/EntityManager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    EntityManager
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/EntityQuery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    EntityQuery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Immutable/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Immutable
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Job/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Job
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Levels%20of%20cache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Levels of cache
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Lookup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lookup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Shared/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Shared
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/SoA%20layout/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SoA layout
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Structural%20changes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Structural changes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Sync%20points/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sync points
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/System%20Group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System Group
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/SystemAPI.Time/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SystemAPI.Time
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/Thread-safe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Thread safe
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/World/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    World
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Jobs/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Jobs
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Jobs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Jobs/IJob/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IJob
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Jobs/IJobChunk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IJobChunk
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Jobs/IJobEntity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IJobEntity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Jobs/IJobParallelFor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IJobParallelFor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Jobs/ITriggerEventsJob/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ITriggerEventsJob
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Jobs/JobHandle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    JobHandle
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Jobs/NativeCollections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NativeCollections
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" >
        
          
          <label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Optimization
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Optimization
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Optimization/Buffer%20Capacity%20Optimization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Buffer Capacity Optimization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Optimization/Component%20Memory%20Alignment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Component Memory Alignment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Patterns
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Patterns
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Auto-Add%20System%20Pattern/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Auto Add System Pattern
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Cleanup%20Component%20Pattern/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cleanup Component Pattern
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Disable%20Tag%20Pattern/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Disable Tag Pattern
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    ECS Design Decisions
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    ECS Design Decisions
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-design-questions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core Design Questions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-design-anti-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Component Design Anti-Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Component Design Anti-Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#monolithic-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monolithic Components
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-design-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Component Design Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Component Design Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tag-components-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tag Components Pattern
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-components-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Command Components Pattern
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#container-components-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Container Components Pattern
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-architecture-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        System Architecture Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Architecture Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#focused-system-queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Focused System Queries
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-ordering-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        System Ordering Dependencies
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Ordering Dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-explicit-system-ordering" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Explicit System Ordering
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-entity-creation-callbacks" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Entity Creation Callbacks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-lazy-initialization" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Lazy Initialization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-multiple-update-phases" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Multiple Update Phases
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#one-frame-delays-vs-immediate-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        One-Frame Delays vs Immediate Execution
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-oop-codebases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integration with OOP Codebases
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integration with OOP Codebases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gradual-migration-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Gradual Migration Pattern
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entity-abstractions-for-complex-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entity Abstractions for Complex Concepts
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decision-framework-script-vs-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        Decision Framework: Script vs System
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decision Framework: Script vs System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-start-with-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Start with Scripts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-extract-data-to-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Extract Data to Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-move-logic-to-systems" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Move Logic to Systems
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-remove-unused-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Remove Unused Code
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refactoring-code-smells" class="md-nav__link">
    <span class="md-ellipsis">
      
        Refactoring Code Smells
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices Summary
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#component-design" class="md-nav__link">
    <span class="md-ellipsis">
      
        Component Design
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        System Architecture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration-migration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integration &amp; Migration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Related Patterns
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Further Reading
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Entity%20Factory%20with%20Archetype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Entity Factory with Archetype
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Helper%20Methods%20for%20Component%20Sets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Helper Methods for Component Sets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Hybrid%20Entity-GameObject%20Sync/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hybrid Entity GameObject Sync
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ICustomBootstrap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ICustomBootstrap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../IEnableableComponent%20Flow%20Control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IEnableableComponent Flow Control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../NativeParallelMultiHashMap%20for%20Entity%20Collections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NativeParallelMultiHashMap for Entity Collections
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Request%20Component%20Pattern/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Request Component Pattern
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Reusable%20Archetype%20Groups/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reusable Archetype Groups
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Singleton%20entities%20and%20components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Singleton entities and components
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../State%20Machine%20Architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    State Machine Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SystemAPI.Query/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SystemAPI.Query
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SystemAPI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SystemAPI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tag-Based%20Behavior%20Selection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tag Based Behavior Selection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../WithChangeFilter%20%28reactive%20updates%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    WithChangeFilter (reactive updates)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Systems/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Systems
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_10" id="__nav_2_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Systems
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Systems/ComponentLookup%20and%20BufferLookup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ComponentLookup and BufferLookup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Systems/EntityCommandBuffer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    EntityCommandBuffer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Systems/ISystem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ISystem
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Systems/RefRO%20and%20RefRW/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RefRO and RefRW
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Systems/SystemBase/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SystemBase
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Systems/SystemState/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SystemState
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_11" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Testing/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_11" id="__nav_2_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Testing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Testing/Performance%20Testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Performance Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Testing/Unit%20Testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Unit Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-design-questions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core Design Questions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-design-anti-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Component Design Anti-Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Component Design Anti-Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#monolithic-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monolithic Components
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-design-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Component Design Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Component Design Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tag-components-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tag Components Pattern
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-components-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Command Components Pattern
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#container-components-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Container Components Pattern
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-architecture-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        System Architecture Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Architecture Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#focused-system-queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Focused System Queries
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-ordering-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        System Ordering Dependencies
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Ordering Dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-explicit-system-ordering" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Explicit System Ordering
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-entity-creation-callbacks" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Entity Creation Callbacks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-lazy-initialization" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Lazy Initialization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-multiple-update-phases" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Multiple Update Phases
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#one-frame-delays-vs-immediate-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        One-Frame Delays vs Immediate Execution
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-oop-codebases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integration with OOP Codebases
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integration with OOP Codebases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gradual-migration-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Gradual Migration Pattern
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entity-abstractions-for-complex-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entity Abstractions for Complex Concepts
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decision-framework-script-vs-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        Decision Framework: Script vs System
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decision Framework: Script vs System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-start-with-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Start with Scripts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-extract-data-to-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Extract Data to Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-move-logic-to-systems" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Move Logic to Systems
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-remove-unused-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Remove Unused Code
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refactoring-code-smells" class="md-nav__link">
    <span class="md-ellipsis">
      
        Refactoring Code Smells
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices Summary
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#component-design" class="md-nav__link">
    <span class="md-ellipsis">
      
        Component Design
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        System Architecture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration-migration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integration &amp; Migration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Related Patterns
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Further Reading
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="ecs-design-decisions">ECS Design Decisions<a class="headerlink" href="#ecs-design-decisions" title="Permanent link">&para;</a></h1>
<p>A practical guide to architectural decisions when building games with ECS. Based on production experience and common design challenges.</p>
<h2 id="core-design-questions">Core Design Questions<a class="headerlink" href="#core-design-questions" title="Permanent link">&para;</a></h2>
<p>Every ECS architecture faces four fundamental decisions:</p>
<ol>
<li><strong>Data distribution</strong>: Which <a href="../../Glossary/Component/">Component</a> should hold specific data?</li>
<li><strong>Logic placement</strong>: Should processing occur in <a href="../../Systems/ISystem/">Systems</a>, scripts, or components?</li>
<li><strong>Integration</strong>: How to combine ECS with existing OOP codebases?</li>
<li><strong>Refactoring</strong>: When and how to restructure as understanding evolves?</li>
</ol>
<hr />
<h2 id="component-design-anti-patterns">Component Design Anti-Patterns<a class="headerlink" href="#component-design-anti-patterns" title="Permanent link">&para;</a></h2>
<h3 id="monolithic-components">Monolithic Components<a class="headerlink" href="#monolithic-components" title="Permanent link">&para;</a></h3>
<p><strong>Problem</strong>: Combining multiple concerns into one component creates maintainability issues.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// ❌ Bad: Everything bundled together</span>
<span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">CharacterComponent</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IComponentData</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// Control data</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">controlSpeed</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">controlAcceleration</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Platformer data</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">platformGravity</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">platformFriction</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Jump data</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">jumpForce</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">jumpMaxCount</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Issues</strong>:
- Variables with prefixes indicate mixed concerns
- Can't reuse jump logic without dragging control/platform data
- Systems querying this component get unnecessary data
- <a href="../../Glossary/Archetype/">Archetype</a> bloat when entities need only subset of features</p>
<p><strong>Solution</strong>: Separate into focused components:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// ✅ Good: Single responsibility</span>
<span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">ControlComponent</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IComponentData</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">Speed</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">Acceleration</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">PlatformerComponent</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IComponentData</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">Gravity</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">Friction</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">JumpComponent</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IComponentData</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">Force</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">MaxCount</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">CurrentCount</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Benefits</strong>:
- Entities selectively include relevant functionality
- Systems query only required components
- Better <a href="../../Glossary/Cache-friendly/">Cache-friendly</a> data access
- Reduced <a href="../../Glossary/Archetype/">Archetype</a> fragmentation</p>
<hr />
<h2 id="component-design-patterns">Component Design Patterns<a class="headerlink" href="#component-design-patterns" title="Permanent link">&para;</a></h2>
<h3 id="tag-components-pattern">Tag Components Pattern<a class="headerlink" href="#tag-components-pattern" title="Permanent link">&para;</a></h3>
<p>Empty components serve as inclusion/exclusion markers without data overhead.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Inclusion marker</span>
<span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">EnemyTag</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IComponentData</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="c1">// Exclusion marker</span>
<span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">DisabledTag</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IComponentData</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p><strong>Use cases</strong>:
- <strong>Filtering</strong>: Systems use tags in queries to process specific entity subsets
- <strong>State flags</strong>: Add/remove tags instead of boolean fields (avoids <a href="../../Glossary/Structural%20changes/">Structural changes</a> overhead when state changes frequently)
- <strong>Debug markers</strong>: Temporary tags for profiling or visualization</p>
<div class="highlight"><pre><span></span><code><span class="c1">// System processes only enabled enemies</span>
<span class="k">partial</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">EnemyAISystem</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ISystem</span>
<span class="p">{</span>
<span class="w">    </span><span class="na">[BurstCompile]</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnUpdate</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">SystemState</span><span class="w"> </span><span class="n">state</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="p">(</span><span class="n">transform</span><span class="p">,</span><span class="w"> </span><span class="n">ai</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">SystemAPI</span><span class="p">.</span><span class="n">Query</span><span class="o">&lt;</span><span class="n">RefRW</span><span class="o">&lt;</span><span class="n">LocalTransform</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">RefRO</span><span class="o">&lt;</span><span class="n">AIComponent</span><span class="o">&gt;&gt;</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="n">WithAll</span><span class="o">&lt;</span><span class="n">EnemyTag</span><span class="o">&gt;</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="n">WithNone</span><span class="o">&lt;</span><span class="n">DisabledTag</span><span class="o">&gt;</span><span class="p">())</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Process enabled enemies only</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>See also</strong>: <a href="../Tag-Based%20Behavior%20Selection/">Tag-Based Behavior Selection</a>, <a href="../Disable%20Tag%20Pattern/">Disable Tag Pattern</a></p>
<hr />
<h3 id="command-components-pattern">Command Components Pattern<a class="headerlink" href="#command-components-pattern" title="Permanent link">&para;</a></h3>
<p>Single-frame components encapsulate one-time operations requiring system-level knowledge.</p>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">SpineSkinChangeCommand</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IComponentData</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">FixedString64Bytes</span><span class="w"> </span><span class="n">SkinName</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>When to use</strong>:
- Operation needs access to system-level data structures
- Requires specific execution ordering
- Must coordinate with multiple systems
- Direct method calls unavailable due to burst/jobs context</p>
<p><strong>Implementation</strong>:
<div class="highlight"><pre><span></span><code><span class="c1">// Producer: Add command</span>
<span class="n">ecb</span><span class="p">.</span><span class="n">AddComponent</span><span class="p">(</span><span class="n">entity</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SpineSkinChangeCommand</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">SkinName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;DamagedSkin&quot;</span><span class="w"> </span><span class="p">});</span>

<span class="c1">// Consumer: Process and remove</span>
<span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span><span class="w"> </span><span class="n">entity</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">SystemAPI</span><span class="p">.</span><span class="n">Query</span><span class="o">&lt;</span><span class="n">RefRO</span><span class="o">&lt;</span><span class="n">SpineSkinChangeCommand</span><span class="o">&gt;&gt;</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="n">WithEntityAccess</span><span class="p">())</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ProcessSkinChange</span><span class="p">(</span><span class="n">cmd</span><span class="p">.</span><span class="n">ValueRO</span><span class="p">.</span><span class="n">SkinName</span><span class="p">);</span>
<span class="w">    </span><span class="n">ecb</span><span class="p">.</span><span class="n">RemoveComponent</span><span class="o">&lt;</span><span class="n">SpineSkinChangeCommand</span><span class="o">&gt;</span><span class="p">(</span><span class="n">entity</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></p>
<p><strong>See also</strong>: <a href="../Request%20Component%20Pattern/">Request Component Pattern</a>, <a href="../Cleanup%20Component%20Pattern/">Cleanup Component Pattern</a></p>
<hr />
<h3 id="container-components-pattern">Container Components Pattern<a class="headerlink" href="#container-components-pattern" title="Permanent link">&para;</a></h3>
<p>Use container structs instead of multiple component instances of same type.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// ❌ Bad: Can&#39;t add multiple components of same type</span>
<span class="c1">// entity.AddComponent&lt;AbilityComponent&gt;(); // Want 3 abilities? Can&#39;t!</span>

<span class="c1">// ✅ Good: Container holds collection</span>
<span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">AbilitiesComponent</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IComponentData</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">BlobAssetReference</span><span class="o">&lt;</span><span class="n">BlobArray</span><span class="o">&lt;</span><span class="n">Ability</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">Abilities</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Or with dynamic buffers:</span>
<span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">AbilityElement</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IBufferElementData</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">AbilityID</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">Cooldown</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Benefits</strong>:
- Query efficiency maintained (one component vs many)
- No special-case handling
- Natural iteration over collection
- Better memory locality</p>
<p><strong>See also</strong>: <a href="../../Components/IBufferElementData%20%28dynamic%20buffers%29/">IBufferElementData (dynamic buffers)</a>, <a href="../../Components/BlobAsset%20%28immutable%20data%29/">BlobAsset (immutable data)</a></p>
<hr />
<h2 id="system-architecture-patterns">System Architecture Patterns<a class="headerlink" href="#system-architecture-patterns" title="Permanent link">&para;</a></h2>
<h3 id="focused-system-queries">Focused System Queries<a class="headerlink" href="#focused-system-queries" title="Permanent link">&para;</a></h3>
<p><strong>Problem</strong>: Broad system queries create processing inefficiencies.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// ❌ Bad: Requires all components</span>
<span class="k">partial</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">MovementSystem</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ISystem</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnUpdate</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">SystemState</span><span class="w"> </span><span class="n">state</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Only processes entities with ALL components</span>
<span class="w">        </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="p">(</span><span class="n">transform</span><span class="p">,</span><span class="w"> </span><span class="n">velocity</span><span class="p">,</span><span class="w"> </span><span class="n">gravity</span><span class="p">,</span><span class="w"> </span><span class="n">friction</span><span class="p">)</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span><span class="n">SystemAPI</span><span class="p">.</span><span class="n">Query</span><span class="o">&lt;</span><span class="n">RefRW</span><span class="o">&lt;</span><span class="n">LocalTransform</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">RefRO</span><span class="o">&lt;</span><span class="n">Velocity</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">                           </span><span class="n">RefRO</span><span class="o">&lt;</span><span class="n">Gravity</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">RefRO</span><span class="o">&lt;</span><span class="n">Friction</span><span class="o">&gt;&gt;</span><span class="p">())</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Entities without Gravity or Friction are excluded entirely</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Solution</strong>: Decompose into focused systems:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// ✅ Good: Minimal component requirements</span>
<span class="k">partial</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">VelocitySystem</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ISystem</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnUpdate</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">SystemState</span><span class="w"> </span><span class="n">state</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="p">(</span><span class="n">transform</span><span class="p">,</span><span class="w"> </span><span class="n">velocity</span><span class="p">)</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span><span class="n">SystemAPI</span><span class="p">.</span><span class="n">Query</span><span class="o">&lt;</span><span class="n">RefRW</span><span class="o">&lt;</span><span class="n">LocalTransform</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">RefRO</span><span class="o">&lt;</span><span class="n">Velocity</span><span class="o">&gt;&gt;</span><span class="p">())</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">transform</span><span class="p">.</span><span class="n">ValueRW</span><span class="p">.</span><span class="n">Position</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">velocity</span><span class="p">.</span><span class="n">ValueRO</span><span class="p">.</span><span class="n">Value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">SystemAPI</span><span class="p">.</span><span class="n">Time</span><span class="p">.</span><span class="n">DeltaTime</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">partial</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">GravitySystem</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ISystem</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnUpdate</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">SystemState</span><span class="w"> </span><span class="n">state</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Separate system for gravity - runs on entities with Velocity + Gravity</span>
<span class="w">        </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="p">(</span><span class="n">velocity</span><span class="p">,</span><span class="w"> </span><span class="n">gravity</span><span class="p">)</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span><span class="n">SystemAPI</span><span class="p">.</span><span class="n">Query</span><span class="o">&lt;</span><span class="n">RefRW</span><span class="o">&lt;</span><span class="n">Velocity</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">RefRO</span><span class="o">&lt;</span><span class="n">Gravity</span><span class="o">&gt;&gt;</span><span class="p">())</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">velocity</span><span class="p">.</span><span class="n">ValueRW</span><span class="p">.</span><span class="n">Value</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">gravity</span><span class="p">.</span><span class="n">ValueRO</span><span class="p">.</span><span class="n">Value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">SystemAPI</span><span class="p">.</span><span class="n">Time</span><span class="p">.</span><span class="n">DeltaTime</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Benefits</strong>:
- Selective processing (entities get only relevant updates)
- Better parallelization opportunities
- Clearer system dependencies
- Reduced false-positive entity inclusions</p>
<p><strong>Principle</strong>: "Better to have more systems running small chunks of logic than fewer systems handling mixed concerns"</p>
<hr />
<h3 id="system-ordering-dependencies">System Ordering Dependencies<a class="headerlink" href="#system-ordering-dependencies" title="Permanent link">&para;</a></h3>
<p>Incorrect ordering causes perception delays and bugs.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// ❌ Problem: Heavy objects don&#39;t initialize until frame 2</span>
<span class="c1">// Frame 1: SpawnSystem creates entity</span>
<span class="c1">// Frame 2: InitializationSystem processes entity (too late!)</span>
</code></pre></div>
<p><strong>Solutions</strong>:</p>
<h4 id="1-explicit-system-ordering">1. Explicit System Ordering<a class="headerlink" href="#1-explicit-system-ordering" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="na">[UpdateInGroup(typeof(InitializationSystemGroup))]</span>
<span class="na">[UpdateAfter(typeof(SpawnSystem))]</span>
<span class="k">public</span><span class="w"> </span><span class="k">partial</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">InitializationSystem</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ISystem</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h4 id="2-entity-creation-callbacks">2. Entity Creation Callbacks<a class="headerlink" href="#2-entity-creation-callbacks" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ecb</span><span class="p">.</span><span class="n">CreateEntity</span><span class="p">(</span><span class="n">archetype</span><span class="p">);</span>
<span class="c1">// Immediate initialization</span>
<span class="n">ecb</span><span class="p">.</span><span class="n">AddComponent</span><span class="p">(</span><span class="n">entity</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InitializedComponent</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ComputeHeavyValue</span><span class="p">()</span><span class="w"> </span><span class="p">});</span>
</code></pre></div>
<h4 id="3-lazy-initialization">3. Lazy Initialization<a class="headerlink" href="#3-lazy-initialization" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">HeavyDataComponent</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IComponentData</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">IsInitialized</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">ExpensiveValue</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Defer until needed</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">data</span><span class="p">.</span><span class="n">IsInitialized</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">data</span><span class="p">.</span><span class="n">ExpensiveValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ComputeHeavyValue</span><span class="p">();</span>
<span class="w">    </span><span class="n">data</span><span class="p">.</span><span class="n">IsInitialized</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="4-multiple-update-phases">4. Multiple Update Phases<a class="headerlink" href="#4-multiple-update-phases" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="na">[UpdateInGroup(typeof(FixedStepSimulationSystemGroup))]</span>
<span class="k">public</span><span class="w"> </span><span class="k">partial</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">PhysicsSystem</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ISystem</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="na">[UpdateInGroup(typeof(SimulationSystemGroup))]</span>
<span class="k">public</span><span class="w"> </span><span class="k">partial</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">GameplaySystem</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ISystem</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="na">[UpdateInGroup(typeof(PresentationSystemGroup))]</span>
<span class="k">public</span><span class="w"> </span><span class="k">partial</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">RenderSystem</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ISystem</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p><strong>See also</strong>: <a href="../../Attributes/UpdateInGroup%2C%20UpdateBefore%2C%20UpdateAfter/">UpdateInGroup, UpdateBefore, UpdateAfter</a>, <a href="../../Glossary/System%20Group/">System Group</a>, <a href="../../Advanced/System%20Dependencies/">System Dependencies</a></p>
<hr />
<h3 id="one-frame-delays-vs-immediate-execution">One-Frame Delays vs Immediate Execution<a class="headerlink" href="#one-frame-delays-vs-immediate-execution" title="Permanent link">&para;</a></h3>
<p><strong>Guideline</strong>: Not all logic belongs in systems.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// ✅ Good: Immediate state transitions</span>
<span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnTriggerEntered</span><span class="p">(</span><span class="n">Entity</span><span class="w"> </span><span class="n">other</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// Change state immediately</span>
<span class="w">    </span><span class="n">currentState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">State</span><span class="p">.</span><span class="n">Attacking</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Store event for system processing</span>
<span class="w">    </span><span class="n">ecb</span><span class="p">.</span><span class="n">AddComponent</span><span class="p">(</span><span class="n">entity</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StateChangedEvent</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">OldState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">State</span><span class="p">.</span><span class="n">Idle</span><span class="p">,</span>
<span class="w">        </span><span class="n">NewState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">State</span><span class="p">.</span><span class="n">Attacking</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">}</span>

<span class="c1">// System processes events later for callbacks/reactions</span>
<span class="k">partial</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">StateEventSystem</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ISystem</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnUpdate</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">SystemState</span><span class="w"> </span><span class="n">state</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="p">(</span><span class="n">evt</span><span class="p">,</span><span class="w"> </span><span class="n">entity</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">SystemAPI</span><span class="p">.</span><span class="n">Query</span><span class="o">&lt;</span><span class="n">RefRO</span><span class="o">&lt;</span><span class="n">StateChangedEvent</span><span class="o">&gt;&gt;</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="n">WithEntityAccess</span><span class="p">())</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">NotifyScriptsOfStateChange</span><span class="p">(</span><span class="n">evt</span><span class="p">.</span><span class="n">ValueRO</span><span class="p">);</span>
<span class="w">            </span><span class="n">ecb</span><span class="p">.</span><span class="n">RemoveComponent</span><span class="o">&lt;</span><span class="n">StateChangedEvent</span><span class="o">&gt;</span><span class="p">(</span><span class="n">entity</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Principle</strong>: Simple operations (vector addition, state transitions) can execute instantly. Defer to systems only when coordination, ordering, or system-level knowledge required.</p>
<hr />
<h2 id="integration-with-oop-codebases">Integration with OOP Codebases<a class="headerlink" href="#integration-with-oop-codebases" title="Permanent link">&para;</a></h2>
<h3 id="gradual-migration-pattern">Gradual Migration Pattern<a class="headerlink" href="#gradual-migration-pattern" title="Permanent link">&para;</a></h3>
<p>Don't refactor everything at once. Embed existing classes initially:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// ✅ Good: Incremental transition</span>
<span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">FormationComponent</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IComponentData</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">BlobAssetReference</span><span class="o">&lt;</span><span class="n">FormationData</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Formation</span><span class="p">;</span><span class="w"> </span><span class="c1">// Converted to blob</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">BehaviorComponent</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IComponentData</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">ManagedBehavior</span><span class="w"> </span><span class="n">Behavior</span><span class="p">;</span><span class="w"> </span><span class="c1">// Still OOP class (managed component)</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Benefits</strong>:
- Reuse existing logic without rewrites
- Identify ECS boundaries incrementally
- Transition step-by-step as systems stabilize
- Validate architecture before committing</p>
<p><strong>Note</strong>: Managed components break <a href="../../Glossary/Burst/">Burst</a> compilation and reduce performance. Migrate to unmanaged data over time.</p>
<p><strong>See also</strong>: <a href="../../Components/Managed%20IComponentData%20%28class%20components%29/">Managed IComponentData (class components)</a></p>
<hr />
<h3 id="entity-abstractions-for-complex-concepts">Entity Abstractions for Complex Concepts<a class="headerlink" href="#entity-abstractions-for-complex-concepts" title="Permanent link">&para;</a></h3>
<p>Abstract concepts (formations, squads, teams) benefit from becoming entities.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// ❌ Old: Formation as data in members</span>
<span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">UnitComponent</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IComponentData</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">FormationID</span><span class="p">;</span><span class="w"> </span><span class="c1">// Weak reference</span>
<span class="p">}</span>

<span class="c1">// ✅ Better: Formation as entity</span>
<span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">FormationTag</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IComponentData</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">FormationMemberComponent</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IComponentData</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">Entity</span><span class="w"> </span><span class="n">FormationEntity</span><span class="p">;</span><span class="w"> </span><span class="c1">// Strong entity reference</span>
<span class="p">}</span>

<span class="c1">// Query all units in a formation</span>
<span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="n">member</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">SystemAPI</span><span class="p">.</span><span class="n">Query</span><span class="o">&lt;</span><span class="n">RefRO</span><span class="o">&lt;</span><span class="n">FormationMemberComponent</span><span class="o">&gt;&gt;</span><span class="p">())</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">member</span><span class="p">.</span><span class="n">ValueRO</span><span class="p">.</span><span class="n">FormationEntity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">targetFormation</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Process unit</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Formation entity can have its own components</span>
<span class="n">ecb</span><span class="p">.</span><span class="n">AddComponent</span><span class="p">(</span><span class="n">formationEntity</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DebugVisualizationComponent</span><span class="p">());</span>
<span class="n">ecb</span><span class="p">.</span><span class="n">AddComponent</span><span class="p">(</span><span class="n">formationEntity</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FormationConfigComponent</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Shape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Shape</span><span class="p">.</span><span class="n">Wedge</span><span class="w"> </span><span class="p">});</span>
</code></pre></div>
<p><strong>Benefits</strong>:
- Composition flexibility (add debug/visual components to formations)
- Natural identity management (formation auto-destruction cascades to members)
- Proper query semantics
- Fits ECS paradigm naturally</p>
<p><strong>See also</strong>: <a href="../Entity%20Factory%20with%20Archetype/">Entity Factory with Archetype</a>, <a href="../Helper%20Methods%20for%20Component%20Sets/">Helper Methods for Component Sets</a></p>
<hr />
<h2 id="decision-framework-script-vs-system">Decision Framework: Script vs System<a class="headerlink" href="#decision-framework-script-vs-system" title="Permanent link">&para;</a></h2>
<p>When uncertain about logic placement, use this workflow:</p>
<h3 id="1-start-with-scripts">1. Start with Scripts<a class="headerlink" href="#1-start-with-scripts" title="Permanent link">&para;</a></h3>
<p>Write unproven logic in MonoBehaviour/scripts first.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Initial prototype</span>
<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">UnitController</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">MonoBehaviour</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">void</span><span class="w"> </span><span class="nf">Update</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Test gameplay logic here</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Why</strong>: Avoids premature architecture decisions, faster iteration.</p>
<h3 id="2-extract-data-to-components">2. Extract Data to Components<a class="headerlink" href="#2-extract-data-to-components" title="Permanent link">&para;</a></h3>
<p>When multiple scripts/systems need access, move data to components.</p>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">UnitStatsComponent</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IComponentData</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">Speed</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">Health</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="3-move-logic-to-systems">3. Move Logic to Systems<a class="headerlink" href="#3-move-logic-to-systems" title="Permanent link">&para;</a></h3>
<p>When reusability becomes evident, migrate processing to systems.</p>
<div class="highlight"><pre><span></span><code><span class="k">partial</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">UnitMovementSystem</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ISystem</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnUpdate</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">SystemState</span><span class="w"> </span><span class="n">state</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="p">(</span><span class="n">transform</span><span class="p">,</span><span class="w"> </span><span class="n">stats</span><span class="p">)</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span><span class="n">SystemAPI</span><span class="p">.</span><span class="n">Query</span><span class="o">&lt;</span><span class="n">RefRW</span><span class="o">&lt;</span><span class="n">LocalTransform</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">RefRO</span><span class="o">&lt;</span><span class="n">UnitStatsComponent</span><span class="o">&gt;&gt;</span><span class="p">())</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Shared movement logic</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="4-remove-unused-code">4. Remove Unused Code<a class="headerlink" href="#4-remove-unused-code" title="Permanent link">&para;</a></h3>
<p>Delete obsolete scripts/systems throughout development.</p>
<p><strong>Principle</strong>: Treat initial architecture as provisional. Optimize for refactorability, not perfect first decisions.</p>
<hr />
<h2 id="refactoring-code-smells">Refactoring Code Smells<a class="headerlink" href="#refactoring-code-smells" title="Permanent link">&para;</a></h2>
<p>ECS exhibits similar refactoring needs as OOP but requires different solutions:</p>
<table>
<thead>
<tr>
<th>Code Smell</th>
<th>Signal</th>
<th>ECS Solution</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Variable prefixes</strong></td>
<td><code>controlSpeed</code>, <code>platformGravity</code> in same component</td>
<td>Separate into focused components</td>
</tr>
<tr>
<td><strong>Monolithic systems</strong></td>
<td>Single system handling many responsibilities</td>
<td>Extract logic into separate systems</td>
</tr>
<tr>
<td><strong>Inflexible filtering</strong></td>
<td>Boolean flags to disable features</td>
<td><a href="../../Components/Tag%20Component/">Tag Component</a>s or <a href="../../Components/IEnableableComponent%20%28toggleable%20components%29/">IEnableableComponent (toggleable components)</a></td>
</tr>
<tr>
<td><strong>Broad queries</strong></td>
<td>System queries many components but uses few</td>
<td>Split into focused systems with minimal queries</td>
</tr>
<tr>
<td><strong>Shared mutable state</strong></td>
<td>Multiple components modifying same data</td>
<td>Entity-based abstraction or singleton pattern</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="best-practices-summary">Best Practices Summary<a class="headerlink" href="#best-practices-summary" title="Permanent link">&para;</a></h2>
<h3 id="component-design">Component Design<a class="headerlink" href="#component-design" title="Permanent link">&para;</a></h3>
<ul>
<li>✅ Minimize component dependencies per system query</li>
<li>✅ Separate data concerns instead of boolean flags</li>
<li>✅ Use component presence as primary control mechanism</li>
<li>✅ Prefer containers over multiple instances of same type</li>
<li>✅ Allow helper methods in components for readonly operations</li>
</ul>
<h3 id="system-architecture">System Architecture<a class="headerlink" href="#system-architecture" title="Permanent link">&para;</a></h3>
<ul>
<li>✅ Make system order explicit and testable</li>
<li>✅ Query minimum number of components needed</li>
<li>✅ Decompose into focused systems for parallelization</li>
<li>✅ Defer only when coordination/ordering required</li>
<li>✅ Use multiple update phases (Fixed/Simulation/Presentation)</li>
</ul>
<h3 id="integration-migration">Integration &amp; Migration<a class="headerlink" href="#integration-migration" title="Permanent link">&para;</a></h3>
<ul>
<li>✅ Gradual migration preserves existing logic</li>
<li>✅ Entity abstractions for complex concepts</li>
<li>✅ Start with scripts, extract to systems when proven</li>
<li>✅ Remove unused code continuously</li>
</ul>
<hr />
<h2 id="related-patterns">Related Patterns<a class="headerlink" href="#related-patterns" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../Request%20Component%20Pattern/">Request Component Pattern</a> - Command component variation</li>
<li><a href="../Cleanup%20Component%20Pattern/">Cleanup Component Pattern</a> - Lifecycle management</li>
<li><a href="../Tag-Based%20Behavior%20Selection/">Tag-Based Behavior Selection</a> - Tag component usage</li>
<li><a href="../Disable%20Tag%20Pattern/">Disable Tag Pattern</a> - Exclusion filtering</li>
<li><a href="../State%20Machine%20Architecture/">State Machine Architecture</a> - State management in ECS</li>
<li><a href="../Auto-Add%20System%20Pattern/">Auto-Add System Pattern</a> - Component initialization</li>
<li><a href="../Entity%20Factory%20with%20Archetype/">Entity Factory with Archetype</a> - Entity creation optimization</li>
</ul>
<hr />
<h2 id="further-reading">Further Reading<a class="headerlink" href="#further-reading" title="Permanent link">&para;</a></h2>
<p><strong>Source</strong>: <a href="https://arielcoppes.dev/2023/07/13/design-decisions-when-building-games-using-ecs.html">Design Decisions When Building Games Using ECS</a> by Ariel Coppes</p>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../Disable%20Tag%20Pattern/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Disable Tag Pattern">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Disable Tag Pattern
              </div>
            </div>
          </a>
        
        
          
          <a href="../Entity%20Factory%20with%20Archetype/" class="md-footer__link md-footer__link--next" aria-label="Next: Entity Factory with Archetype">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Entity Factory with Archetype
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Oleksandr Diukov
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/odiukov" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.instagram.com/o.diukov" target="_blank" rel="noopener" title="www.instagram.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M224.3 141a115 115 0 1 0-.6 230 115 115 0 1 0 .6-230m-.6 40.4a74.6 74.6 0 1 1 .6 149.2 74.6 74.6 0 1 1-.6-149.2m93.4-45.1a26.8 26.8 0 1 1 53.6 0 26.8 26.8 0 1 1-53.6 0m129.7 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8M399 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/oleksandrdiukov/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="analytics" checked>
      <span class="task-list-indicator"></span>
      Google Analytics
    </label>
  </li>

      
    
    
      
    
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.indexes", "navigation.footer"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://www.googletagmanager.com/gtag/js?id=G-68H7J1MZ00"></script>
      
        <script src="../../../javascript/analytics.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  </body>
</html>